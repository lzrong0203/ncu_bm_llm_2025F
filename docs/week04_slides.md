# Week 4: RAG æš–èº«èˆ‡å°ˆæ¡ˆææ¡ˆ
## Multi-Agent Debate Ã— ä¼æ¥­çŸ¥è­˜åº«

---

## ğŸ“š æœ¬é€±å­¸ç¿’ç›®æ¨™
1. **ç†è§£ RAG (Retrieval-Augmented Generation) æµç¨‹**
   - è³‡æ–™è’é›† â†’ åˆ‡å‰² â†’ å‘é‡åŒ– â†’ æª¢ç´¢ â†’ ç”Ÿæˆ
2. **ç†Ÿæ‚‰ Gemma3:1b åœ¨æœ¬åœ°ç«¯çš„ RAG å¯¦ä½œ**
   - ä»¥ `week04_rag/rag_test.py` å»ºç«‹ PDF çŸ¥è­˜åº«
   - è§€å¯Ÿæœ‰ï¼ç„¡ RAG å›ç­”çš„å·®ç•°
3. **æº–å‚™æœŸæœ«å°ˆæ¡ˆææ¡ˆ**
   - ç¢ºèªè³‡æ–™ä¾†æºèˆ‡æˆæ¬Š
   - å®šç¾©å°ˆæ¡ˆç›®æ¨™ã€æŒ‡æ¨™èˆ‡äººåŠ›åˆ†å·¥

---

## ğŸ§­ æœ¬é€±èª²ç¨‹çµæ§‹
1. **RAG æ¦‚å¿µé€Ÿæˆ**
   - ç‚ºä»€éº¼éœ€è¦ RAGï¼Ÿ
   - RAG èˆ‡ Multi-Agent Debate çš„é—œè¯
2. **ç¨‹å¼å¯¦ä½œï¼š`week04_rag/rag_test.py`**
   - ä»¥ data/ è«–æ–‡ç‚ºä¾‹
   - æ¯”è¼ƒ RAG vs LLM baseline
3. **è³‡æ–™å·¥ä½œåŠ**
   - æ¸…é»æ¯çµ„å¯ç”¨çš„ PDF / æ–‡ä»¶
   - è¦åŠƒè³‡æ–™åˆ‡å‰²èˆ‡æ›´æ–°æµç¨‹
4. **å°ˆæ¡ˆææ¡ˆè¦åŠƒ**
   - å•†æ¥­å•é¡Œ â†’ AI è§£æ–¹ â†’ è©•ä¼°æ–¹æ³•

---

## ğŸ› ï¸ Demo ç’°å¢ƒéœ€æ±‚
```bash
ollama serve
ollama pull gemma3:1b
python -m pip install -r requirements.txt

# å»ºè­°å°‡ç ”ç©¶è«–æ–‡æˆ– SOP æª”æ¡ˆæ”¾å…¥
mkdir -p data
cp <your_papers>.pdf data/
```

### demo æŒ‡ä»¤
```bash
python week04_rag/rag_test.py
# æˆ–è‡ªè¨‚å•é¡Œ / è³‡æ–™å¤¾
python week04_rag/rag_test.py -q "Multi-Agent Debate çš„å„ªå‹¢æ˜¯ä»€éº¼ï¼Ÿ" --data-folder data
```

---

## ğŸ” `rag_test.py` é‡é»è§£æ
1. **PDFProcessor**ï¼šåˆ‡å‰²è«–æ–‡ï¼Œä¿ç•™ä¾†æºèˆ‡æ®µè½ä½ç½®
2. **EmbeddingModel**ï¼šä½¿ç”¨ `sentence-transformers/all-MiniLM-L6-v2`
3. **VectorStore**ï¼šFAISS å…§ç©æª¢ç´¢ï¼Œæ”¯æ´ top-k åƒè€ƒ
4. **RAGPipeline.ask()**ï¼š
   - ç·¨ç¢¼å•é¡Œ â†’ æª¢ç´¢æœ€ç›¸é—œæ®µè½
   - å»ºç«‹å«ä¾†æºçš„ Prompt
   - å‘¼å« `ollama.chat` ç”¢ç”Ÿå›ç­”
5. **compare_with_baseline()**ï¼š
   - ç›´æ¥è©¢å• LLMï¼ˆæœªæä¾›ä¸Šä¸‹æ–‡ï¼‰
   - èˆ‡ RAG å›ç­”ä¸¦åˆ—ï¼Œåˆ©æ–¼è¨è«–å·®ç•°

---

## ğŸ¤– Multi-Agent Debate å•é¡Œå»ºè­°
- ã€ŒMulti-Agent Debate èˆ‡å–®ä¸€æ¨¡å‹ Chain-of-Thought æœ‰ä½•ä¸åŒï¼Ÿã€
- ã€Œè¾¯è«–è¨­å®šå¦‚ä½•æå‡æ±ºç­–å“è³ªï¼Ÿå° RAG æœ‰ä»€éº¼å¹«åŠ©ï¼Ÿã€
- ã€Œè‹¥ä¼æ¥­å°å…¥ Multi-Agent Debateï¼Œéœ€è¦æº–å‚™å“ªäº›è³‡æ–™èˆ‡æµç¨‹ï¼Ÿã€

> å»ºè­°æ¯çµ„æº–å‚™ 2-3 é¡å•é¡Œï¼Œè§€å¯Ÿ RAG èˆ‡ Baseline çš„å›ç­”å·®ç•°ã€å¼•ç”¨ä¾†æºèˆ‡å¯ä¿¡åº¦ã€‚

---

## ğŸ“‚ è³‡æ–™æº–å‚™æ¸…å–®
- âœ… å·²æˆæ¬Šæˆ–å…¬é–‹çš„ PDF / DOCX / TXT
- âœ… å…§å®¹èˆ‡å°ˆæ¡ˆæƒ…å¢ƒé«˜åº¦ç›¸é—œ
- âœ… é é¢æƒæå“è³ªè‰¯å¥½ï¼ˆå¯è®€æ–‡å­—ï¼‰
- âœ… è‹¥åŒ…å«è¡¨æ ¼ï¼Œé å…ˆè½‰ç‚ºå¯è§£æçš„æ–‡å­—
- âœ… æ¨™è¨»è³‡æ–™ä¾†æºã€æ›´æ–°æ™‚é–“ã€æ•æ„Ÿåº¦

---

## ğŸ§‘â€ğŸ¤â€ğŸ§‘ åˆ†çµ„ææ¡ˆä»»å‹™
| é …ç›® | èªªæ˜ |
|------|------|
| å•†æ¥­å•é¡Œ | ç›®å‰ç”¢æ¥­ç—›é» / å…§éƒ¨æ•ˆç‡ç“¶é ¸ |
| AI è§£æ±ºæ–¹æ¡ˆ | ç›®æ¨™ä½¿ç”¨è€…ã€æ ¸å¿ƒåŠŸèƒ½ã€é—œéµæŒ‡æ¨™ |
| è³‡æ–™è³‡ç”¢ | ä¾†æºã€æ ¼å¼ã€æ•¸é‡ã€æ›´æ–°é »ç‡ |
| æŠ€è¡“æ¶æ§‹ | æ¨¡å‹é¸æ“‡ã€RAG pipelineã€å¿…è¦å·¥å…· |
| é©—è­‰è¨ˆç•« | æˆæ•ˆæŒ‡æ¨™ã€æ¸¬è©¦æµç¨‹ã€æ™‚ç¨‹è¦ç•« |

> äº¤ä»˜æˆæœï¼šç°¡å ± 5-7 é ï¼Œæ–¼ Week 5 å‰å®Œæˆåˆç¨¿ã€‚

---

## âœ… æœ¬é€±èª²å¾Œä»»å‹™
- [ ] åœ¨è‡ªå·±çš„è³‡æ–™ä¸ŠæˆåŠŸåŸ·è¡Œ `week04_rag/rag_test.py`
- [ ] æ•´ç†ã€ŒRAG vs Baselineã€çš„å›ç­”å·®ç•°èˆ‡æ´å¯Ÿ
- [ ] èˆ‡çµ„å“¡ç¢ºèªå°ˆæ¡ˆé¡Œç›®èˆ‡è³‡æ–™ä¾†æº
- [ ] ç”¢å‡ºææ¡ˆç°¡å ±ç¬¬ä¸€ç‰ˆï¼ˆè‡³å°‘åŒ…å«å•é¡Œã€è³‡æ–™ã€æŠ€è¡“æ§‹æƒ³ï¼‰

---

## ğŸ“ åƒè€ƒè³‡æº
- [Retrieval-Augmented Generation Survey (Lewis et al., 2020)](https://arxiv.org/abs/2005.11401)
- [Multi-Agent Debate Improves Reasoning in Language Models](https://arxiv.org/abs/2305.14325)
- [LangChain Retrieval æ¨¡çµ„å®˜æ–¹æ–‡ä»¶](https://python.langchain.com/docs/modules/data_connection/)
- [FAISS å®˜æ–¹æ•™å­¸](https://faiss.ai/)

---

## ğŸ™‹ Q&A
æ­¡è¿å¸¶è‘—ä½ å€‘çš„è³‡æ–™é›†èˆ‡æƒ³æ³•åˆ°èª²å ‚ä¸Šï¼ŒåŠ©æ•™æœƒå”åŠ©æª¢æŸ¥è³‡æ–™å“è³ªèˆ‡æŠ€è¡“å¯è¡Œæ€§ã€‚
